{"version":3,"sources":["../demo.js"],"names":["Application","PIXI","Container","loader","resources","TextureCache","utils","Sprite","Graphics","Rectangle","Text","TextStyle","app","width","height","antialias","transparent","resolution","renderer","view","style","position","display","autoResize","resize","window","innerWidth","innerHeight","document","body","appendChild","add","load","setup","loadProgressHandler","resource","console","log","url","progress","frog","state","snail","bee","message","rectangle","beginFill","lineStyle","drawRect","endFill","x","y","stage","addChild","circle","drawCircle","ellipse","drawEllipse","roundBox","drawRoundedRect","line","moveTo","lineTo","triangle","drawPolygon","fontFamily","fontSize","fill","stroke","strokeThickness","dropShadow","dropShadowColor","dropShadowBlur","dropShadowAngle","Math","PI","dropShadowDistance","set","text","font","texture","animals","vx","vy","play","ticker","gameLoop","delta","speed","left","keyboard","up","right","down","press","release","isDown","hitTestRectangle","tint","r1","r2","hit","combinedHalfWidths","combinedHalfHeights","centerX","centerY","halfWidth","halfHeight","abs","keyCode","key","code","isUp","undefined","downHandler","event","preventDefault","upHandler","addEventListener","bind"],"mappings":";;AAAA;;AAEA;AACA;AACA;;AAEA;AACA,IAAIA,cAAcC,KAAKD,WAAvB;AAAA,IACIE,YAAYD,KAAKC,SADrB;AAAA,IAEIC,SAASF,KAAKE,MAFlB;AAAA,IAGIC,YAAYH,KAAKE,MAAL,CAAYC,SAH5B;AAAA,IAIIC,eAAeJ,KAAKK,KAAL,CAAWD,YAJ9B;AAAA,IAKIE,SAASN,KAAKM,MALlB;AAAA,IAMIC,WAAWP,KAAKO,QANpB;AAAA,IAOIC,YAAYR,KAAKQ,SAPrB;AAAA,IAQIC,OAAOT,KAAKS,IARhB;AAAA,IASIC,YAAYV,KAAKU,SATrB;;AAYA;AACA,IAAIC,MAAM,IAAIZ,WAAJ,CAAgB;AACtBa,WAAO,GADe;AAEtBC,YAAQ,GAFc;AAGtBC,eAAU,IAHY,EAGP;AACfC,iBAAY,IAJU;AAKtBC,gBAAW,CALW,CAKV;AALU,CAAhB,CAAV;;AAQA;AACA;AACA;;AAEAL,IAAIM,QAAJ,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBC,QAAxB,GAAmC,UAAnC;AACAT,IAAIM,QAAJ,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBE,OAAxB,GAAkC,OAAlC;AACAV,IAAIM,QAAJ,CAAaK,UAAb,GAA0B,IAA1B;AACAX,IAAIM,QAAJ,CAAaM,MAAb,CAAoBC,OAAOC,UAA3B,EAAsCD,OAAOE,WAA7C;;AAGA;AACAC,SAASC,IAAT,CAAcC,WAAd,CAA0BlB,IAAIO,IAA9B;;AAEA;AACAhB,OACK4B,GADL,CACS,CACD,iBADC,EAED,kBAFC,EAGD,gBAHC,CADT,EAMKC,IANL,CAMUC,KANV;AAOI;AACA;;AAEJ,SAASC,mBAAT,CAA6B/B,MAA7B,EAAqCgC,QAArC,EAA+C;AAC3C;AACAC,YAAQC,GAAR,CAAY,cAAcF,SAASG,GAAnC;;AAEA;AACAF,YAAQC,GAAR,CAAY,eAAelC,OAAOoC,QAAtB,GAAiC,GAA7C;AACH;;AAED,IAAIC,aAAJ;AAAA,IAAUC,cAAV;AAAA,IAAgBC,cAAhB;AAAA,IAAsBC,YAAtB;AAAA,IAA0BC,gBAA1B;AAAA,IAAkCC,kBAAlC;;AAKA;AACA,SAASZ,KAAT,GAAiB;;AAEbY,gBAAY,IAAIrC,QAAJ,EAAZ;AACAqC,cAAUC,SAAV,CAAoB,QAApB;AACAD,cAAUE,SAAV,CAAoB,CAApB,EAAsB,QAAtB,EAA+B,GAA/B;AACAF,cAAUG,QAAV,CAAmB,CAAnB,EAAqB,CAArB,EAAuB,GAAvB,EAA2B,GAA3B;AACAH,cAAUI,OAAV;AACAJ,cAAUK,CAAV,GAAc,GAAd;AACAL,cAAUM,CAAV,GAAc,GAAd;AACAvC,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBR,SAAnB;;AAEA,QAAIS,SAAS,IAAI9C,QAAJ,EAAb;AACA8C,WAAOR,SAAP,CAAiB,QAAjB;AACAQ,WAAOC,UAAP,CAAkB,CAAlB,EAAoB,CAApB,EAAsB,EAAtB;AACAD,WAAOL,OAAP;AACAK,WAAOJ,CAAP,GAAW,GAAX;AACAI,WAAOH,CAAP,GAAW,GAAX;AACAvC,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBC,MAAnB;;AAEA,QAAIE,UAAU,IAAIhD,QAAJ,EAAd;AACAgD,YAAQV,SAAR,CAAkB,QAAlB;AACAU,YAAQC,WAAR,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,EAA9B;AACAD,YAAQP,OAAR;AACAO,YAAQN,CAAR,GAAY,GAAZ;AACAM,YAAQL,CAAR,GAAY,GAAZ;AACAvC,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBG,OAAnB;;AAEA,QAAIE,WAAW,IAAIlD,QAAJ,EAAf;AACAkD,aAASX,SAAT,CAAmB,CAAnB,EAAsB,QAAtB,EAAgC,CAAhC;AACAW,aAASZ,SAAT,CAAmB,QAAnB;AACAY,aAASC,eAAT,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,EAAvC;AACAD,aAAST,OAAT;AACAS,aAASR,CAAT,GAAa,EAAb;AACAQ,aAASP,CAAT,GAAa,GAAb;AACAvC,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBK,QAAnB;;AAEA,QAAIE,OAAO,IAAIpD,QAAJ,EAAX;AACAoD,SAAKb,SAAL,CAAe,CAAf,EAAiB,QAAjB,EAA0B,CAA1B;AACAa,SAAKC,MAAL,CAAY,CAAZ,EAAc,CAAd;AACAD,SAAKE,MAAL,CAAY,EAAZ,EAAe,EAAf;AACAF,SAAKV,CAAL,GAAS,CAAT;AACAU,SAAKT,CAAL,GAAS,CAAT;AACAvC,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBO,IAAnB;;AAGA,QAAIG,WAAW,IAAIvD,QAAJ,EAAf;AACAuD,aAASjB,SAAT,CAAmB,QAAnB;AACAiB,aAASC,WAAT,CAAsB,CAClB,GADkB,EACd,EADc,EAElB,GAFkB,EAEd,EAFc,EAGlB,GAHkB,EAGd,EAHc,CAAtB;AAKAD,aAASd,OAAT;AACAc,aAASb,CAAT,GAAa,GAAb;AACAa,aAASZ,CAAT,GAAa,EAAb;AACAvC,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBU,QAAnB;;AAEA,QAAI3C,QAAQ,IAAIT,SAAJ,CAAc;AACtBsD,oBAAY,OADU;AAEtBC,kBAAU,EAFY;AAGtBC,cAAM,OAHgB;AAItBC,gBAAQ,SAJc;AAKtBC,yBAAgB,CALM;AAMtBC,oBAAW,IANW;AAOtBC,yBAAgB,SAPM;AAQtBC,wBAAe,CARO;AAStBC,yBAAgBC,KAAKC,EAAL,GAAQ,CATF;AAUtBC,4BAAmB;;AAVG,KAAd,CAAZ;;AAeAhC,cAAU,IAAIlC,IAAJ,CAAS,aAAT,EAAuBU,KAAvB,CAAV;AACAR,QAAIwC,KAAJ,CAAUC,QAAV,CAAmBT,OAAnB;AACAA,YAAQvB,QAAR,CAAiBwD,GAAjB,CAAqB,GAArB,EAAyB,EAAzB;AACAjC,YAAQkC,IAAR,GAAe,KAAf;AACAlC,YAAQxB,KAAR,GAAgB,EAAC+C,MAAK,OAAN,EAAcY,MAAM;;AAGpC;AAHgB,KAAhB,CAIAvC,OAAO,IAAIjC,MAAJ,CAAWH,UAAU,iBAAV,EAA6B4E,OAAxC,CAAP;AACAxC,SAAKnB,QAAL,CAAcwD,GAAd,CAAkB,GAAlB,EAAsB,GAAtB;AACAnC,YAAQ,IAAInC,MAAJ,CAAWH,UAAU,kBAAV,EAA8B4E,OAAzC,CAAR;AACAtC,UAAMrB,QAAN,CAAewD,GAAf,CAAmB,GAAnB,EAAuB,GAAvB;AACAlC,UAAM,IAAIpC,MAAJ,CAAWH,UAAU,gBAAV,EAA4B4E,OAAvC,CAAN;AACArC,QAAItB,QAAJ,CAAawD,GAAb,CAAiB,GAAjB,EAAqB,GAArB;;AAGA,QAAII,UAAU,IAAI/E,SAAJ,EAAd;AACA+E,YAAQ5B,QAAR,CAAiBb,IAAjB;AACAyC,YAAQ5B,QAAR,CAAiBX,KAAjB;AACAuC,YAAQ5B,QAAR,CAAiBV,GAAjB;;AAEA/B,QAAIwC,KAAJ,CAAUC,QAAV,CAAmB4B,OAAnB;AACA;AACAA,YAAQ5D,QAAR,CAAiBwD,GAAjB,CAAqB,EAArB,EAAwB,EAAxB;;AAEA;AACA;AACA;AACA;AACA;;;AAGArC,SAAK0C,EAAL,GAAU,CAAV;AACA1C,SAAK2C,EAAL,GAAU,CAAV;AACA;AACA;;;AAGA;AACA;;;AAGA;;AAEA;;AAEA;AACA1C,YAAQ2C,IAAR;;AAEA;AACAxE,QAAIyE,MAAJ,CAAWtD,GAAX,CAAe;AAAA,eAASuD,SAASC,KAAT,CAAT;AAAA,KAAf;;AAEA,QAAIC,QAAQ,CAAZ;;AAIA,QAAIC,OAAOC,SAAS,EAAT,CAAX;AAAA,QACIC,KAAKD,SAAS,EAAT,CADT;AAAA,QAEIE,QAAQF,SAAS,EAAT,CAFZ;AAAA,QAGIG,OAAOH,SAAS,EAAT,CAHX;;AAKAD,SAAKK,KAAL,GAAa,YAAM;AACftD,aAAK0C,EAAL,GAAUM,KAAV;AACAhD,aAAK2C,EAAL,GAAU,CAAV;AACH,KAHD;;AAKA;AACAM,SAAKM,OAAL,GAAe,YAAM;AACjB;AACA;AACA;AACA,YAAI,CAACH,MAAMI,MAAP,IAAiBxD,KAAK2C,EAAL,KAAY,CAAjC,EAAoC;AAChC3C,iBAAK0C,EAAL,GAAU,CAAV;AACH;AACJ,KAPD;;AASAU,UAAME,KAAN,GAAc,YAAM;AAChBtD,aAAK0C,EAAL,GAAS,CAAEM,KAAX;AACAhD,aAAK2C,EAAL,GAAU,CAAV;AAEH,KAJD;AAKAS,UAAMG,OAAN,GAAgB,YAAM;AAClB,YAAI,CAACN,KAAKO,MAAN,IAAgBxD,KAAK2C,EAAL,KAAY,CAAhC,EAAmC;AAC/B3C,iBAAK0C,EAAL,GAAU,CAAV;AACH;AACJ,KAJD;;AAMAS,OAAGG,KAAH,GAAW,YAAK;AACZtD,aAAK0C,EAAL,GAAU,CAAV;AACA1C,aAAK2C,EAAL,GAAQK,KAAR;AACH,KAHD;AAIAG,OAAGI,OAAH,GAAa,YAAM;AACf,YAAI,CAACF,KAAKG,MAAN,IAAgBxD,KAAK0C,EAAL,KAAY,CAAhC,EAAmC;AAC/B1C,iBAAK2C,EAAL,GAAU,CAAV;AACH;AACJ,KAJD;;AAOAU,SAAKC,KAAL,GAAa,YAAI;AACbtD,aAAK0C,EAAL,GAAU,CAAV;AACA1C,aAAK2C,EAAL,GAAQ,CAACK,KAAT;AACH,KAHD;;AAKAK,SAAKE,OAAL,GAAe,YAAM;AACjB,YAAI,CAACJ,GAAGK,MAAJ,IAAcxD,KAAK0C,EAAL,KAAY,CAA9B,EAAiC;AAC7B1C,iBAAK2C,EAAL,GAAU,CAAV;AACH;AACJ,KAJD;AAMH;;AAED,SAASG,QAAT,CAAkBC,KAAlB,EAAwB;;AAEpB;AACA9C,UAAM8C,KAAN;AACH;;AAGD,SAASH,IAAT,CAAcG,KAAd,EAAoB;;AAGZ/C,SAAKU,CAAL,IAAUV,KAAK0C,EAAf;AACA1C,SAAKW,CAAL,IAAUX,KAAK2C,EAAf;;AAGA,QAAGc,iBAAiBzD,IAAjB,EAAsBK,SAAtB,CAAH,EAAoC;AAChCD,gBAAQkC,IAAR,GAAe,MAAf;AACAjC,kBAAUqD,IAAV,GAAiB,QAAjB;AACH,KAHD,MAGM;AACFtD,gBAAQkC,IAAR,GAAe,SAAf;AACAjC,kBAAUqD,IAAV,GAAiB,QAAjB;AACH;AAER;;AAGD,SAASD,gBAAT,CAA0BE,EAA1B,EAA8BC,EAA9B,EAAkC;;AAE9B;AACA,QAAIC,YAAJ;AAAA,QAASC,2BAAT;AAAA,QAA6BC,4BAA7B;AAAA,QAAkDrB,WAAlD;AAAA,QAAsDC,WAAtD;;AAEA;AACAkB,UAAM,KAAN;;AAEA;AACAF,OAAGK,OAAH,GAAaL,GAAGjD,CAAH,GAAOiD,GAAGtF,KAAH,GAAW,CAA/B;AACAsF,OAAGM,OAAH,GAAaN,GAAGhD,CAAH,GAAOgD,GAAGrF,MAAH,GAAY,CAAhC;AACAsF,OAAGI,OAAH,GAAaJ,GAAGlD,CAAH,GAAOkD,GAAGvF,KAAH,GAAW,CAA/B;AACAuF,OAAGK,OAAH,GAAaL,GAAGjD,CAAH,GAAOiD,GAAGtF,MAAH,GAAY,CAAhC;;AAEA;AACAqF,OAAGO,SAAH,GAAeP,GAAGtF,KAAH,GAAW,CAA1B;AACAsF,OAAGQ,UAAH,GAAgBR,GAAGrF,MAAH,GAAY,CAA5B;AACAsF,OAAGM,SAAH,GAAeN,GAAGvF,KAAH,GAAW,CAA1B;AACAuF,OAAGO,UAAH,GAAgBP,GAAGtF,MAAH,GAAY,CAA5B;;AAEA;AACAoE,SAAKiB,GAAGK,OAAH,GAAaJ,GAAGI,OAArB;AACArB,SAAKgB,GAAGM,OAAH,GAAaL,GAAGK,OAArB;;AAEA;AACAH,yBAAqBH,GAAGO,SAAH,GAAeN,GAAGM,SAAvC;AACAH,0BAAsBJ,GAAGQ,UAAH,GAAgBP,GAAGO,UAAzC;;AAEA;AACA,QAAIjC,KAAKkC,GAAL,CAAS1B,EAAT,IAAeoB,kBAAnB,EAAuC;;AAEnC;AACA,YAAI5B,KAAKkC,GAAL,CAASzB,EAAT,IAAeoB,mBAAnB,EAAwC;;AAEpC;AACAF,kBAAM,IAAN;AACH,SAJD,MAIO;;AAEH;AACAA,kBAAM,KAAN;AACH;AACJ,KAZD,MAYO;;AAEH;AACAA,cAAM,KAAN;AACH;;AAED;AACA,WAAOA,GAAP;AACH;;AAGD,SAASX,QAAT,CAAkBmB,OAAlB,EAA2B;AACvB,QAAIC,MAAM,EAAV;AACAA,QAAIC,IAAJ,GAAWF,OAAX;AACAC,QAAId,MAAJ,GAAa,KAAb;AACAc,QAAIE,IAAJ,GAAW,IAAX;AACAF,QAAIhB,KAAJ,GAAYmB,SAAZ;AACAH,QAAIf,OAAJ,GAAckB,SAAd;AACA;AACAH,QAAII,WAAJ,GAAkB,iBAAS;AACvB,YAAIC,MAAMN,OAAN,KAAkBC,IAAIC,IAA1B,EAAgC;AAC5B,gBAAID,IAAIE,IAAJ,IAAYF,IAAIhB,KAApB,EAA2BgB,IAAIhB,KAAJ;AAC3BgB,gBAAId,MAAJ,GAAa,IAAb;AACAc,gBAAIE,IAAJ,GAAW,KAAX;AACH;AACDG,cAAMC,cAAN;AACH,KAPD;;AASA;AACAN,QAAIO,SAAJ,GAAgB,iBAAS;AACrB,YAAIF,MAAMN,OAAN,KAAkBC,IAAIC,IAA1B,EAAgC;AAC5B,gBAAID,IAAId,MAAJ,IAAcc,IAAIf,OAAtB,EAA+Be,IAAIf,OAAJ;AAC/Be,gBAAId,MAAJ,GAAa,KAAb;AACAc,gBAAIE,IAAJ,GAAW,IAAX;AACH;AACDG,cAAMC,cAAN;AACH,KAPD;;AASA;AACA3F,WAAO6F,gBAAP,CACI,SADJ,EACeR,IAAII,WAAJ,CAAgBK,IAAhB,CAAqBT,GAArB,CADf,EAC0C,KAD1C;AAGArF,WAAO6F,gBAAP,CACI,OADJ,EACaR,IAAIO,SAAJ,CAAcE,IAAd,CAAmBT,GAAnB,CADb,EACsC,KADtC;AAGA,WAAOA,GAAP;AACH","file":"demo.js","sourcesContent":["// var type = \"WebGL\";\n\n// if (!PIXI.utils.isWebGLSupported()) {\n//     type = \"canvas\";\n// }\n\n//别名\nlet Application = PIXI.Application,\n    Container = PIXI.Container,\n    loader = PIXI.loader,\n    resources = PIXI.loader.resources,\n    TextureCache = PIXI.utils.TextureCache,\n    Sprite = PIXI.Sprite,\n    Graphics = PIXI.Graphics,\n    Rectangle = PIXI.Rectangle,\n    Text = PIXI.Text,\n    TextStyle = PIXI.TextStyle\n\n\n//Create a Pixi Application\nlet app = new Application({\n    width: 256,\n    height: 256,\n    antialias:true,//antialias使得字体的边界和几何图形更加圆滑\n    transparent:true,\n    resolution:1//resolution让Pixi在不同的分辨率和像素密度的平台上运行变得简单\n});\n\n// app.renderer.backgroundColor = 0x86bebb;\n// app.renderer.autoResize = true;\n// app.renderer.resize(512,512)\n\napp.renderer.view.style.position = \"absolute\"\napp.renderer.view.style.display = \"block\"\napp.renderer.autoResize = true;\napp.renderer.resize(window.innerWidth,window.innerHeight)\n\n\n//Add the canvas that Pixi automatically created for you to the HTML document\ndocument.body.appendChild(app.view);\n\n//load an image and run the `setup` function when it's done\nloader\n    .add([\n        \"images/frog.png\",\n        \"images/snail.png\",\n        \"images/bee.png\"\n    ])\n    .load(setup)\n    // .on(\"progress\",loadProgressHandler)\n    // .load(setup);\n\nfunction loadProgressHandler(loader, resource) {\n    //Display the file `url` currently being loaded\n    console.log(\"loading: \" + resource.url);\n\n    //Display the percentage of files currently loaded\n    console.log(\"progress: \" + loader.progress + \"%\");\n}\n\nlet frog, state,snail,bee,message,rectangle;\n\n\n\n\n//This `setup` function will run when the image has loaded\nfunction setup() {\n\n    rectangle = new Graphics()\n    rectangle.beginFill(0x86bebb)\n    rectangle.lineStyle(4,0x000000,0.5)\n    rectangle.drawRect(0,0,200,100)\n    rectangle.endFill()\n    rectangle.x = 200\n    rectangle.y = 300\n    app.stage.addChild(rectangle)\n\n    let circle = new Graphics()\n    circle.beginFill(0x392930)\n    circle.drawCircle(0,0,50)\n    circle.endFill()\n    circle.x = 600\n    circle.y = 400\n    app.stage.addChild(circle)\n\n    let ellipse = new Graphics();\n    ellipse.beginFill(0xFFFF00);\n    ellipse.drawEllipse(0, 0, 50, 20);\n    ellipse.endFill();\n    ellipse.x = 100;\n    ellipse.y = 100;\n    app.stage.addChild(ellipse);\n\n    let roundBox = new Graphics();\n    roundBox.lineStyle(4, 0x99CCFF, 1);\n    roundBox.beginFill(0xFF9933);\n    roundBox.drawRoundedRect(0, 0, 84, 36, 10)\n    roundBox.endFill();\n    roundBox.x = 48;\n    roundBox.y = 190;\n    app.stage.addChild(roundBox);\n\n    let line = new Graphics()\n    line.lineStyle(2,0x000000,1)\n    line.moveTo(5,5)\n    line.lineTo(20,30)\n    line.x = 0\n    line.y = 0\n    app.stage.addChild(line)\n\n\n    let triangle = new Graphics()\n    triangle.beginFill(0x86bebb)\n    triangle.drawPolygon( [\n        100,10,\n        150,20,\n        100,50\n    ])\n    triangle.endFill()\n    triangle.x = 200\n    triangle.y = 50\n    app.stage.addChild(triangle)\n\n    let style = new TextStyle({\n        fontFamily: \"Arial\",\n        fontSize: 40,\n        fill: \"white\",\n        stroke: \"#7f7f7f\",\n        strokeThickness:4,\n        dropShadow:true,\n        dropShadowColor:\"#000000\",\n        dropShadowBlur:4,\n        dropShadowAngle:Math.PI/6,\n        dropShadowDistance:6\n\n    })\n\n\n    message = new Text(\"hello world\",style)\n    app.stage.addChild(message)\n    message.position.set(400,50)\n    message.text = \"hi!\"\n    message.style = {fill:\"black\",font: \"16px PetMe64\"}\n\n\n    //Create the cat sprite\n    frog = new Sprite(resources[\"images/frog.png\"].texture);\n    frog.position.set(100,100)\n    snail = new Sprite(resources[\"images/snail.png\"].texture);\n    snail.position.set(300,100)\n    bee = new Sprite(resources[\"images/bee.png\"].texture);\n    bee.position.set(500,100)\n\n\n    let animals = new Container()\n    animals.addChild(frog)\n    animals.addChild(snail)\n    animals.addChild(bee)\n\n    app.stage.addChild(animals)\n    // console.log(animals.children)\n    animals.position.set(50,50)\n\n    // console.log(frog.x)\n    // console.log(animals.toGlobal(frog.position))\n    // console.log(frog.parent.toGlobal(frog.position))\n    // console.log(frog.getGlobalPosition())\n    // console.log(frog.toLocal(frog.position,snail))\n\n\n    frog.vx = 0;\n    frog.vy = 0;\n    // frog.x = 300;\n    // frog.y = 200;\n\n\n    // frog.anchor.set(0.5,0.5)\n    // frog.rotation = 0.5\n\n\n    //Add the cat to the stage\n\n    // frog.visible = false;\n\n    //Set the game state\n    state = play;\n\n    //Start the game loop\n    app.ticker.add(delta => gameLoop(delta));\n\n    var speed = 5;\n\n\n\n    let left = keyboard(37),\n        up = keyboard(38),\n        right = keyboard(39),\n        down = keyboard(40);\n\n    left.press = () => {\n        frog.vx = speed;\n        frog.vy = 0;\n    }\n\n    //Left arrow key `release` method\n    left.release = () => {\n        //If the left arrow has been released, and the right arrow isn't down,\n        //and the cat isn't moving vertically:\n        //Stop the cat\n        if (!right.isDown && frog.vy === 0) {\n            frog.vx = 0;\n        }\n    };\n\n    right.press = () => {\n        frog.vx= - speed;\n        frog.vy = 0;\n\n    }\n    right.release = () => {\n        if (!left.isDown && frog.vy === 0) {\n            frog.vx = 0;\n        }\n    };\n\n    up.press = () =>{\n        frog.vx = 0;\n        frog.vy=speed;\n    }\n    up.release = () => {\n        if (!down.isDown && frog.vx === 0) {\n            frog.vy = 0;\n        }\n    };\n\n\n    down.press = ()=>{\n        frog.vx = 0;\n        frog.vy=-speed;\n    }\n\n    down.release = () => {\n        if (!up.isDown && frog.vx === 0) {\n            frog.vy = 0;\n        }\n    };\n\n}\n\nfunction gameLoop(delta){\n\n    //Update the current game state:\n    state(delta);\n}\n\n\nfunction play(delta){\n\n\n        frog.x -= frog.vx;\n        frog.y -= frog.vy;\n\n\n        if(hitTestRectangle(frog,rectangle)){\n            message.text = \"hit!\"\n            rectangle.tint = 0xff3300\n        }else {\n            message.text = \"safe...\"\n            rectangle.tint = 0x392930\n        }\n\n}\n\n\nfunction hitTestRectangle(r1, r2) {\n\n    //Define the variables we'll need to calculate\n    let hit, combinedHalfWidths, combinedHalfHeights, vx, vy;\n\n    //hit will determine whether there's a collision\n    hit = false;\n\n    //Find the center points of each sprite\n    r1.centerX = r1.x + r1.width / 2;\n    r1.centerY = r1.y + r1.height / 2;\n    r2.centerX = r2.x + r2.width / 2;\n    r2.centerY = r2.y + r2.height / 2;\n\n    //Find the half-widths and half-heights of each sprite\n    r1.halfWidth = r1.width / 2;\n    r1.halfHeight = r1.height / 2;\n    r2.halfWidth = r2.width / 2;\n    r2.halfHeight = r2.height / 2;\n\n    //Calculate the distance vector between the sprites\n    vx = r1.centerX - r2.centerX;\n    vy = r1.centerY - r2.centerY;\n\n    //Figure out the combined half-widths and half-heights\n    combinedHalfWidths = r1.halfWidth + r2.halfWidth;\n    combinedHalfHeights = r1.halfHeight + r2.halfHeight;\n\n    //Check for a collision on the x axis\n    if (Math.abs(vx) < combinedHalfWidths) {\n\n        //A collision might be occuring. Check for a collision on the y axis\n        if (Math.abs(vy) < combinedHalfHeights) {\n\n            //There's definitely a collision happening\n            hit = true;\n        } else {\n\n            //There's no collision on the y axis\n            hit = false;\n        }\n    } else {\n\n        //There's no collision on the x axis\n        hit = false;\n    }\n\n    //`hit` will be either `true` or `false`\n    return hit;\n};\n\n\nfunction keyboard(keyCode) {\n    let key = {};\n    key.code = keyCode;\n    key.isDown = false;\n    key.isUp = true;\n    key.press = undefined;\n    key.release = undefined;\n    //The `downHandler`\n    key.downHandler = event => {\n        if (event.keyCode === key.code) {\n            if (key.isUp && key.press) key.press();\n            key.isDown = true;\n            key.isUp = false;\n        }\n        event.preventDefault();\n    };\n\n    //The `upHandler`\n    key.upHandler = event => {\n        if (event.keyCode === key.code) {\n            if (key.isDown && key.release) key.release();\n            key.isDown = false;\n            key.isUp = true;\n        }\n        event.preventDefault();\n    };\n\n    //Attach event listeners\n    window.addEventListener(\n        \"keydown\", key.downHandler.bind(key), false\n    );\n    window.addEventListener(\n        \"keyup\", key.upHandler.bind(key), false\n    );\n    return key;\n}\n\n"]}